#!/usr/bin/env sh

# Pre-commit hook - runs without husky dependency
# Detect package manager and run lint-staged

echo "ğŸ” Running pre-commit checks..."

if [ -f "pnpm-lock.yaml" ] && command -v pnpm >/dev/null 2>&1; then
  echo "ğŸ“¦ Using pnpm..."
  pnpm exec lint-staged
elif [ -f "yarn.lock" ] && command -v yarn >/dev/null 2>&1; then
  echo "ğŸ“¦ Using yarn..."
  yarn lint-staged
elif command -v npx >/dev/null 2>&1; then
  echo "ğŸ“¦ Using npm..."
  npx lint-staged
else
  echo "âŒ No package manager found. Please install npm, yarn, or pnpm."
  exit 1
fi